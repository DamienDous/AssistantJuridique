FROM paddleocr-model:local

ENV DEBIAN_FRONTEND=noninteractive \
    PYTHONUNBUFFERED=1 \
    PYTHONPATH=/opt/PaddleOCR:$PYTHONPATH

RUN apt-get update && apt-get install -y --no-install-recommends \
    tesseract-ocr libtesseract-dev wget && \
    rm -rf /var/lib/apt/lists/*

RUN pip install --no-cache-dir python-Levenshtein pytesseract opencv-python-headless pyyaml fastdeploy-python
RUN pip install --upgrade fastdeploy-python -f https://www.paddlepaddle.org.cn/whl/fastdeploy.html
RUN pip install --upgrade paddleocr

WORKDIR /workspace
COPY OCR/PADDLE_TRAINING/script/eval_paddle.py /workspace/script/eval_paddle.py

ENTRYPOINT ["python3", "/workspace/script/eval_paddle.py"]