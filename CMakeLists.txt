cmake_minimum_required(VERSION 3.10)
project(PipelineOCR)

# V√©rifier que Docker est install√©
find_program(DOCKER_EXEC docker)

if(NOT DOCKER_EXEC)
    if(WIN32)
        set(INSTALL_URL "https://docs.docker.com/desktop/install/windows-install/")
    elseif(APPLE)
        set(INSTALL_URL "https://docs.docker.com/desktop/install/mac-install/")
    elseif(UNIX)
        set(INSTALL_URL "https://docs.docker.com/engine/install/")
    endif()

    message(FATAL_ERROR
        "‚ùå Docker n'est pas install√© ou non trouv√© dans le PATH.\n"
        "üëâ Installez-le ici : ${INSTALL_URL}")
endif()

message(STATUS "‚úÖ Docker d√©tect√© : ${DOCKER_EXEC}")

# Appeler Make automatiquement apr√®s configuration
message(STATUS "üõ†Ô∏è  Vous pouvez maintenant ex√©cuter : make build ou make run")